## Introduction ##

A distribution is a frozen and stable build.

Most of the things are automated by the build but some little things still need
to be done "by hand".

## Versioning ##

We keep our **major**, **minor** and **build** version in the `version.properties` file.

`/src/com/google/analytics/version.properties`
```
version.major=1
version.minor=0
version.build=0
```

This file is shared by the AS3 source code and the Ant properties<br>
don't add any <code>;</code> at the end of the lines<br>
<br>
The <b>revision</b> number is defined in the <b>API</b> class and use the <b>Rev</b> <code>svn:keyword</code>

<code>/src/com/google/analytics/API.as</code>
<pre><code>//...<br>
version.revision = "$Rev: 234 $ ".split( " " )[1];<br>
//...<br>
</code></pre>

This allow us to keep our build revision number in sync with the latest revision of the repository which just a little catch.<br>
<br>
The <code>analytics_flash.swc</code>, because it is generated by hand,<br>
will have a revision number of <code>rev n-1</code>.<br>


<h2>Checklist</h2>

<ul><li>Do all your commits, updates, etc.<br>
</li><li>run the unit tests<br>
</li><li>edit the <code>version.properties</code><br>update accordingly and commit<br>
</li><li>open the file <code>/fla/Analytics.fla</code><br>select the <code>Analytics</code> component<br>right-click <code>Component Definition...</code><br>click <code>OK</code> (this will sync the component with the last edits in the source code)<br>
</li><li>select the <code>Analytics</code> component again<br>right-click <code>Export SWC File...</code><br>save as <code>/fla/analytics_flash.swc</code>
</li><li>save the <code>Analytics.fla</code>
</li><li>commit the updated <code>analytics_flash.swc</code> and <code>Analytics.fla</code>
</li><li>edit <code>API.as</code><br>just change 1 char (either add or remove 1 space)<br>this will force the <b>Rev</b> property to sync with the repo<br>
</li><li>edit the <b>changelog</b><br>start an entry with <code>* major.minor.build.revision+1</code><br>if the current rev is <code>123</code>, define <code>* 1.0.0.124</code><br>list all your changes<br>
</li><li>commit all<br>
</li><li>now generate the build<br>
</li><li>upload the build to the GC project<br>
</li><li>generate a tag for the build<br>
</li><li>generate a branch if needed</li></ul>

<h2>Announce</h2>

Send an email to the google group, list the changelog<br>
and link to <code>http://code.google.com/p/gaforflash/issues/list?can=1&amp;q=label%3ARelease1.0.0</code><br>
replace <code>1.0.0</code> with the current build number